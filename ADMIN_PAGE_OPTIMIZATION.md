# ç®¡ç†å‘˜é¢æ¿ä¼˜åŒ–æ–‡æ¡£

## ğŸ“‹ ä¼˜åŒ–æ¦‚è¿°

### ä¼˜åŒ–ç›®æ ‡
å°†ç®¡ç†å‘˜é¢æ¿é‡æ„ä¸ºä¸‰ä¸ªæ ¸å¿ƒæ¨¡å—ï¼Œæä¾›å…¨é¢çš„æ•°æ®ç»Ÿè®¡å’Œç”¨æˆ·ç®¡ç†åŠŸèƒ½ã€‚

### ä¼˜åŒ–æ—¥æœŸ
2025-12-13

## ğŸ¯ ä¸‰å¤§æ ¸å¿ƒæ¨¡å—

### æ¨¡å—ä¸€ï¼šæ•°æ®æ€»è§ˆ
å±•ç¤ºå…³é”®ä¸šåŠ¡æŒ‡æ ‡çš„å®æ—¶ç»Ÿè®¡æ•°æ®ã€‚

**ç»Ÿè®¡æŒ‡æ ‡**ï¼š
1. **æ€»ç”¨æˆ·æ•°**
   - æ˜¾ç¤ºå¹³å°æ³¨å†Œç”¨æˆ·æ€»æ•°
   - å›¾æ ‡ï¼šUsersï¼ˆç”¨æˆ·å›¾æ ‡ï¼‰

2. **ä»˜è´¹ç”¨æˆ·æ•°**
   - æ˜¾ç¤ºå·²å®Œæˆä¸€æ¬¡æ€§ä»˜è´¹çš„ç”¨æˆ·æ•°é‡
   - é™„åŠ ä¿¡æ¯ï¼šä»˜è´¹æ€»é‡‘é¢
   - è®¡ç®—æ–¹å¼ï¼šä»˜è´¹ç”¨æˆ·æ•° Ã— â‚¬1.98
   - å›¾æ ‡ï¼šDollarSignï¼ˆç¾å…ƒç¬¦å·ï¼‰

3. **è®¢é˜…ç”¨æˆ·æ•°**
   - æ˜¾ç¤ºå½“å‰æœ‰æ•ˆæœˆåº¦è®¢é˜…ç”¨æˆ·æ•°é‡
   - é™„åŠ ä¿¡æ¯ï¼šè®¢é˜…æ€»é‡‘é¢
   - è®¡ç®—æ–¹å¼ï¼šè®¢é˜…ç”¨æˆ·æ•° Ã— â‚¬29.99
   - å›¾æ ‡ï¼šCreditCardï¼ˆä¿¡ç”¨å¡ï¼‰

**å¸ƒå±€**ï¼š
- æ¡Œé¢ç«¯ï¼š3åˆ—ç½‘æ ¼å¸ƒå±€
- å¹³æ¿ç«¯ï¼š2åˆ—ç½‘æ ¼å¸ƒå±€
- ç§»åŠ¨ç«¯ï¼š1åˆ—å †å å¸ƒå±€

### æ¨¡å—äºŒï¼šæ¯æ—¥æ•°æ®
ä»¥è¡¨æ ¼å½¢å¼å±•ç¤ºæœ€è¿‘30å¤©çš„è¯¦ç»†ç»Ÿè®¡æ•°æ®ã€‚

**æ•°æ®å­—æ®µ**ï¼š
1. **æ—¥æœŸ** - ç»Ÿè®¡æ—¥æœŸ
2. **PV** - é¡µé¢æµè§ˆé‡ï¼ˆPage Viewsï¼‰
3. **UV** - ç‹¬ç«‹è®¿å®¢æ•°ï¼ˆUnique Visitorsï¼‰
4. **ç”¨æˆ·æ•°** - å½“æ—¥æ€»ç”¨æˆ·æ•°
5. **æ–°å¢ç”¨æˆ·** - å½“æ—¥æ–°æ³¨å†Œç”¨æˆ·æ•°
6. **æ–°å¢ä»˜è´¹** - å½“æ—¥æ–°å¢ä»˜è´¹ç”¨æˆ·æ•°
7. **ä»˜è´¹é‡‘é¢** - å½“æ—¥æ–°å¢ä»˜è´¹é‡‘é¢
8. **æ–°å¢è®¢é˜…** - å½“æ—¥æ–°å¢è®¢é˜…ç”¨æˆ·æ•°
9. **è®¢é˜…é‡‘é¢** - å½“æ—¥æ–°å¢è®¢é˜…é‡‘é¢

**ç‰¹æ€§**ï¼š
- æŒ‰æ—¥æœŸå€’åºæ’åˆ—ï¼ˆæœ€æ–°æ—¥æœŸåœ¨å‰ï¼‰
- æ¨ªå‘æ»šåŠ¨æ”¯æŒï¼ˆé€‚é…ç§»åŠ¨ç«¯ï¼‰
- é‡‘é¢å­—æ®µå³å¯¹é½
- æ•°å­—å­—æ®µå³å¯¹é½

### æ¨¡å—ä¸‰ï¼šç”¨æˆ·åˆ—è¡¨
å±•ç¤ºæ‰€æœ‰ç”¨æˆ·çš„è¯¦ç»†ä¿¡æ¯ï¼Œæ”¯æŒåˆ†é¡µæµè§ˆã€‚

**æ•°æ®å­—æ®µ**ï¼š
1. **é‚®ç®±** - ç”¨æˆ·æ³¨å†Œé‚®ç®±
2. **å§“å** - ç”¨æˆ·çœŸå®å§“å
3. **ä»˜è´¹çŠ¶æ€** - å·²ä»˜è´¹/æœªä»˜è´¹
4. **è®¢é˜…ç±»å‹** - ä¸€æ¬¡æ€§/æœˆåº¦/æ— 
5. **ä»˜è´¹é‡‘é¢** - ç”¨æˆ·ä»˜è´¹é‡‘é¢
6. **åˆ°æœŸæ—¶é—´** - è®¢é˜…åˆ°æœŸæ—¶é—´
7. **åˆ›å»ºæ—¶é—´** - ç”¨æˆ·æ³¨å†Œæ—¶é—´

**åˆ†é¡µåŠŸèƒ½**ï¼š
- æ¯é¡µæ˜¾ç¤º20æ¡è®°å½•
- ä¸Šä¸€é¡µ/ä¸‹ä¸€é¡µæŒ‰é’®
- æ˜¾ç¤ºå½“å‰é¡µç å’Œæ€»é¡µæ•°
- æŒ‰åˆ›å»ºæ—¶é—´å€’åºæ’åˆ—

## ğŸ’» æŠ€æœ¯å®ç°

### æ•°æ®åº“è®¾è®¡

#### daily_statsè¡¨ç»“æ„

```sql
CREATE TABLE daily_stats (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  stat_date DATE NOT NULL UNIQUE,
  pv INTEGER DEFAULT 0,
  uv INTEGER DEFAULT 0,
  total_users INTEGER DEFAULT 0,
  new_users INTEGER DEFAULT 0,
  new_paid_users INTEGER DEFAULT 0,
  new_paid_amount DECIMAL(10, 2) DEFAULT 0,
  new_subscription_users INTEGER DEFAULT 0,
  new_subscription_amount DECIMAL(10, 2) DEFAULT 0,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);
```

**å­—æ®µè¯´æ˜**ï¼š
- `stat_date`: ç»Ÿè®¡æ—¥æœŸï¼ˆå”¯ä¸€ç´¢å¼•ï¼‰
- `pv`: é¡µé¢æµè§ˆé‡
- `uv`: ç‹¬ç«‹è®¿å®¢æ•°
- `total_users`: æ€»ç”¨æˆ·æ•°
- `new_users`: æ–°å¢ç”¨æˆ·æ•°
- `new_paid_users`: æ–°å¢ä»˜è´¹ç”¨æˆ·æ•°
- `new_paid_amount`: æ–°å¢ä»˜è´¹é‡‘é¢
- `new_subscription_users`: æ–°å¢è®¢é˜…ç”¨æˆ·æ•°
- `new_subscription_amount`: æ–°å¢è®¢é˜…é‡‘é¢

**ç´¢å¼•**ï¼š
```sql
CREATE INDEX idx_daily_stats_date ON daily_stats(stat_date DESC);
```

### ç±»å‹å®šä¹‰

#### DailyStatsæ¥å£

```typescript
export interface DailyStats {
  id: string;
  stat_date: string;
  pv: number;
  uv: number;
  total_users: number;
  new_users: number;
  new_paid_users: number;
  new_paid_amount: number;
  new_subscription_users: number;
  new_subscription_amount: number;
  created_at: string;
  updated_at: string;
}
```

#### AdminOverviewæ¥å£

```typescript
export interface AdminOverview {
  total_users: number;
  paid_users: number;
  paid_amount: number;
  subscription_users: number;
  subscription_amount: number;
}
```

### APIå‡½æ•°

#### 1. getAdminOverview()

**åŠŸèƒ½**ï¼šè·å–ç»Ÿè®¡æ€»è§ˆæ•°æ®

**å®ç°é€»è¾‘**ï¼š
```typescript
export async function getAdminOverview() {
  // 1. è·å–æ€»ç”¨æˆ·æ•°
  const { count: totalUsers } = await supabase
    .from('profiles')
    .select('*', { count: 'exact', head: true });

  // 2. è·å–ä»˜è´¹ç”¨æˆ·æ•°å’Œé‡‘é¢
  const { data: paidData } = await supabase
    .from('profiles')
    .select('has_paid')
    .eq('has_paid', true);
  
  const paidUsers = paidData?.length || 0;
  const paidAmount = paidUsers * 1.98;

  // 3. è·å–è®¢é˜…ç”¨æˆ·æ•°å’Œé‡‘é¢
  const { data: subscriptionData } = await supabase
    .from('profiles')
    .select('subscription_type, subscription_expires_at')
    .eq('subscription_type', 'monthly')
    .not('subscription_expires_at', 'is', null);
  
  const subscriptionUsers = subscriptionData?.length || 0;
  const subscriptionAmount = subscriptionUsers * 29.99;

  return {
    total_users: totalUsers || 0,
    paid_users: paidUsers,
    paid_amount: paidAmount,
    subscription_users: subscriptionUsers,
    subscription_amount: subscriptionAmount,
  };
}
```

**è¿”å›å€¼**ï¼šAdminOverviewå¯¹è±¡

#### 2. getDailyStats(limit)

**åŠŸèƒ½**ï¼šè·å–æ¯æ—¥ç»Ÿè®¡æ•°æ®

**å‚æ•°**ï¼š
- `limit`: è¿”å›è®°å½•æ•°é‡ï¼ˆé»˜è®¤30ï¼‰

**å®ç°é€»è¾‘**ï¼š
```typescript
export async function getDailyStats(limit: number = 30) {
  const { data, error } = await supabase
    .from('daily_stats')
    .select('*')
    .order('stat_date', { ascending: false })
    .limit(limit);
  
  if (error) throw error;
  return data || [];
}
```

**è¿”å›å€¼**ï¼šDailyStatsæ•°ç»„

#### 3. getUserList(page, pageSize)

**åŠŸèƒ½**ï¼šè·å–ç”¨æˆ·åˆ—è¡¨ï¼ˆåˆ†é¡µï¼‰

**å‚æ•°**ï¼š
- `page`: é¡µç ï¼ˆä»1å¼€å§‹ï¼‰
- `pageSize`: æ¯é¡µè®°å½•æ•°ï¼ˆé»˜è®¤20ï¼‰

**å®ç°é€»è¾‘**ï¼š
```typescript
export async function getUserList(page: number = 1, pageSize: number = 20) {
  const from = (page - 1) * pageSize;
  const to = from + pageSize - 1;

  const { data, error, count } = await supabase
    .from('profiles')
    .select('*', { count: 'exact' })
    .order('created_at', { ascending: false })
    .range(from, to);
  
  if (error) throw error;
  
  return {
    users: data || [],
    total: count || 0,
    page,
    pageSize,
    totalPages: Math.ceil((count || 0) / pageSize),
  };
}
```

**è¿”å›å€¼**ï¼š
```typescript
{
  users: Profile[],
  total: number,
  page: number,
  pageSize: number,
  totalPages: number
}
```

### ç»„ä»¶å®ç°

#### AdminPageç»„ä»¶ç»“æ„

```typescript
export default function AdminPage() {
  // çŠ¶æ€ç®¡ç†
  const [overview, setOverview] = useState<AdminOverview | null>(null);
  const [dailyStats, setDailyStats] = useState<DailyStats[]>([]);
  const [users, setUsers] = useState<Profile[]>([]);
  const [currentPage, setCurrentPage] = useState(1);
  const [totalPages, setTotalPages] = useState(1);
  const [loading, setLoading] = useState(true);

  // æ•°æ®åŠ è½½
  const loadData = async () => {
    const [overviewData, statsData, usersData] = await Promise.all([
      getAdminOverview(),
      getDailyStats(30),
      getUserList(currentPage, 20),
    ]);
    // æ›´æ–°çŠ¶æ€...
  };

  // æ¸²æŸ“ä¸‰ä¸ªæ¨¡å—...
}
```

#### åŠ è½½çŠ¶æ€å¤„ç†

ä½¿ç”¨Skeletonç»„ä»¶æ˜¾ç¤ºåŠ è½½éª¨æ¶å±ï¼š

```typescript
{loading ? (
  <Skeleton className="h-8 w-20 bg-muted" />
) : (
  <div className="text-2xl font-bold">{overview?.total_users || 0}</div>
)}
```

#### åˆ†é¡µæ§ä»¶

```typescript
<div className="flex items-center justify-between mt-4">
  <div className="text-sm text-muted-foreground">
    ç¬¬ {currentPage} é¡µï¼Œå…± {totalPages} é¡µ
  </div>
  <div className="flex gap-2">
    <Button
      variant="outline"
      size="sm"
      onClick={() => setCurrentPage((prev) => Math.max(1, prev - 1))}
      disabled={currentPage === 1 || loading}
    >
      <ChevronLeft className="h-4 w-4 mr-1" />
      ä¸Šä¸€é¡µ
    </Button>
    <Button
      variant="outline"
      size="sm"
      onClick={() => setCurrentPage((prev) => Math.min(totalPages, prev + 1))}
      disabled={currentPage === totalPages || loading}
    >
      ä¸‹ä¸€é¡µ
      <ChevronRight className="h-4 w-4 ml-1" />
    </Button>
  </div>
</div>
```

## ğŸ¨ UIè®¾è®¡

### è®¾è®¡åŸåˆ™

1. **æ•°æ®å¯è§†åŒ–**
   - ä½¿ç”¨å¡ç‰‡ç»„ä»¶å±•ç¤ºå…³é”®æŒ‡æ ‡
   - ä½¿ç”¨è¡¨æ ¼ç»„ä»¶å±•ç¤ºè¯¦ç»†æ•°æ®
   - æ¸…æ™°çš„æ•°æ®å±‚æ¬¡ç»“æ„

2. **å“åº”å¼å¸ƒå±€**
   - æ¡Œé¢ç«¯ï¼šå¤šåˆ—ç½‘æ ¼å¸ƒå±€
   - ç§»åŠ¨ç«¯ï¼šå•åˆ—å †å å¸ƒå±€
   - è¡¨æ ¼æ¨ªå‘æ»šåŠ¨æ”¯æŒ

3. **åŠ è½½ä½“éªŒ**
   - ä½¿ç”¨éª¨æ¶å±æ˜¾ç¤ºåŠ è½½çŠ¶æ€
   - é¿å…å†…å®¹é—ªçƒ
   - å¹³æ»‘çš„æ•°æ®æ›´æ–°

4. **äº¤äº’åé¦ˆ**
   - æŒ‰é’®ç¦ç”¨çŠ¶æ€
   - æ‚¬åœæ•ˆæœ
   - æ¸…æ™°çš„åˆ†é¡µä¿¡æ¯

### é¢œè‰²ä½¿ç”¨

- **ä¸»è‰²è°ƒ**ï¼šä½¿ç”¨ä¸»é¢˜è‰²ï¼ˆprimaryï¼‰
- **æ–‡æœ¬é¢œè‰²**ï¼š
  - æ ‡é¢˜ï¼šforeground
  - æ¬¡è¦æ–‡æœ¬ï¼šmuted-foreground
  - ä»˜è´¹çŠ¶æ€ï¼štext-green-600ï¼ˆå·²ä»˜è´¹ï¼‰
- **èƒŒæ™¯è‰²**ï¼š
  - é¡µé¢èƒŒæ™¯ï¼šbackground
  - å¡ç‰‡èƒŒæ™¯ï¼šcard
  - éª¨æ¶å±ï¼šmuted

### å›¾æ ‡ä½¿ç”¨

- **Users**ï¼šæ€»ç”¨æˆ·æ•°
- **DollarSign**ï¼šä»˜è´¹ç›¸å…³
- **CreditCard**ï¼šè®¢é˜…ç›¸å…³
- **ChevronLeft/Right**ï¼šåˆ†é¡µå¯¼èˆª

## ğŸŒ å¤šè¯­è¨€æ”¯æŒ

### ä¸­æ–‡å†…å®¹

```typescript
zh: {
  title: 'ç®¡ç†å‘˜é¢æ¿',
  overview: {
    title: 'æ•°æ®æ€»è§ˆ',
    totalUsers: 'æ€»ç”¨æˆ·æ•°',
    paidUsers: 'ä»˜è´¹ç”¨æˆ·æ•°',
    paidAmount: 'ä»˜è´¹é‡‘é¢',
    subscriptionUsers: 'è®¢é˜…ç”¨æˆ·æ•°',
    subscriptionAmount: 'è®¢é˜…é‡‘é¢',
  },
  dailyStats: {
    title: 'æ¯æ—¥æ•°æ®',
    // ...
  },
  userList: {
    title: 'ç”¨æˆ·åˆ—è¡¨',
    // ...
  },
}
```

### è‹±æ–‡å†…å®¹

```typescript
en: {
  title: 'Admin Dashboard',
  overview: {
    title: 'Overview',
    totalUsers: 'Total Users',
    paidUsers: 'Paid Users',
    paidAmount: 'Paid Amount',
    subscriptionUsers: 'Subscription Users',
    subscriptionAmount: 'Subscription Amount',
  },
  dailyStats: {
    title: 'Daily Statistics',
    // ...
  },
  userList: {
    title: 'User List',
    // ...
  },
}
```

## ğŸ“Š æ•°æ®æµç¨‹

### é¡µé¢åŠ è½½æµç¨‹

```
ç”¨æˆ·è®¿é—®Adminé¡µé¢
    â†“
æ£€æŸ¥ç®¡ç†å‘˜æƒé™
    â†“
å¹¶è¡ŒåŠ è½½ä¸‰ä¸ªæ¨¡å—æ•°æ®
    â”œâ”€ getAdminOverview()
    â”œâ”€ getDailyStats(30)
    â””â”€ getUserList(1, 20)
    â†“
æ›´æ–°é¡µé¢çŠ¶æ€
    â†“
æ¸²æŸ“ä¸‰ä¸ªæ¨¡å—
```

### åˆ†é¡µåˆ‡æ¢æµç¨‹

```
ç”¨æˆ·ç‚¹å‡»ä¸Šä¸€é¡µ/ä¸‹ä¸€é¡µ
    â†“
æ›´æ–°currentPageçŠ¶æ€
    â†“
è§¦å‘useEffect
    â†“
è°ƒç”¨getUserList(newPage, 20)
    â†“
æ›´æ–°ç”¨æˆ·åˆ—è¡¨
```

## ğŸ” æƒé™æ§åˆ¶

### è®¿é—®æƒé™æ£€æŸ¥

```typescript
useEffect(() => {
  if (profile && profile.role !== 'admin') {
    navigate('/');
  }
}, [profile, navigate]);
```

**é€»è¾‘**ï¼š
- æ£€æŸ¥ç”¨æˆ·è§’è‰²æ˜¯å¦ä¸ºadmin
- éç®¡ç†å‘˜ç”¨æˆ·è‡ªåŠ¨è·³è½¬åˆ°é¦–é¡µ
- æœªç™»å½•ç”¨æˆ·æ— æ³•è®¿é—®

### æ•°æ®è®¿é—®æƒé™

- ç®¡ç†å‘˜å¯ä»¥æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·æ•°æ®
- ç®¡ç†å‘˜å¯ä»¥æŸ¥çœ‹æ‰€æœ‰ç»Ÿè®¡æ•°æ®
- æ™®é€šç”¨æˆ·æ— æ³•è®¿é—®ç®¡ç†å‘˜é¢æ¿

## ğŸ§ª æµ‹è¯•åœºæ™¯

### åœºæ™¯1ï¼šç®¡ç†å‘˜è®¿é—®

**æ­¥éª¤**ï¼š
1. ä»¥ç®¡ç†å‘˜èº«ä»½ç™»å½•
2. è®¿é—® `/admin` é¡µé¢
3. éªŒè¯ä¸‰ä¸ªæ¨¡å—æ­£å¸¸æ˜¾ç¤º
4. éªŒè¯æ•°æ®æ­£ç¡®åŠ è½½

**é¢„æœŸç»“æœ**ï¼š
- é¡µé¢æ­£å¸¸æ˜¾ç¤º
- æ•°æ®æ€»è§ˆæ˜¾ç¤ºæ­£ç¡®æ•°å­—
- æ¯æ—¥æ•°æ®è¡¨æ ¼æ˜¾ç¤ºæœ€è¿‘30å¤©æ•°æ®
- ç”¨æˆ·åˆ—è¡¨æ˜¾ç¤ºå‰20ä¸ªç”¨æˆ·

### åœºæ™¯2ï¼šæ™®é€šç”¨æˆ·è®¿é—®

**æ­¥éª¤**ï¼š
1. ä»¥æ™®é€šç”¨æˆ·èº«ä»½ç™»å½•
2. å°è¯•è®¿é—® `/admin` é¡µé¢

**é¢„æœŸç»“æœ**ï¼š
- è‡ªåŠ¨è·³è½¬åˆ°é¦–é¡µ
- æ— æ³•æŸ¥çœ‹ç®¡ç†å‘˜æ•°æ®

### åœºæ™¯3ï¼šåˆ†é¡µåŠŸèƒ½

**æ­¥éª¤**ï¼š
1. è®¿é—®ç®¡ç†å‘˜é¢æ¿
2. æ»šåŠ¨åˆ°ç”¨æˆ·åˆ—è¡¨
3. ç‚¹å‡»"ä¸‹ä¸€é¡µ"æŒ‰é’®
4. éªŒè¯æ˜¾ç¤ºç¬¬2é¡µæ•°æ®
5. ç‚¹å‡»"ä¸Šä¸€é¡µ"æŒ‰é’®
6. éªŒè¯è¿”å›ç¬¬1é¡µæ•°æ®

**é¢„æœŸç»“æœ**ï¼š
- åˆ†é¡µæŒ‰é’®æ­£å¸¸å·¥ä½œ
- é¡µç ä¿¡æ¯æ­£ç¡®æ˜¾ç¤º
- æ•°æ®æ­£ç¡®åˆ‡æ¢

### åœºæ™¯4ï¼šåŠ è½½çŠ¶æ€

**æ­¥éª¤**ï¼š
1. è®¿é—®ç®¡ç†å‘˜é¢æ¿
2. è§‚å¯ŸåŠ è½½è¿‡ç¨‹

**é¢„æœŸç»“æœ**ï¼š
- æ˜¾ç¤ºéª¨æ¶å±
- æ•°æ®åŠ è½½å®Œæˆåæ˜¾ç¤ºå®é™…å†…å®¹
- æ— å†…å®¹é—ªçƒ

### åœºæ™¯5ï¼šç©ºæ•°æ®çŠ¶æ€

**æ­¥éª¤**ï¼š
1. åœ¨æ²¡æœ‰æ¯æ—¥ç»Ÿè®¡æ•°æ®çš„æƒ…å†µä¸‹è®¿é—®
2. éªŒè¯ç©ºçŠ¶æ€æ˜¾ç¤º

**é¢„æœŸç»“æœ**ï¼š
- æ˜¾ç¤º"æš‚æ— æ•°æ®"æç¤º
- ä¸æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯
- é¡µé¢å¸ƒå±€æ­£å¸¸

## ğŸ“ ç›¸å…³æ–‡ä»¶

### æ ¸å¿ƒæ–‡ä»¶

- `src/pages/AdminPage.tsx` - ç®¡ç†å‘˜é¢æ¿ç»„ä»¶
- `src/db/api.ts` - APIå‡½æ•°
- `src/types/types.ts` - ç±»å‹å®šä¹‰
- `supabase/migrations/00004_create_daily_stats_table.sql` - æ•°æ®åº“è¿ç§»

### UIç»„ä»¶

- `src/components/ui/card.tsx` - å¡ç‰‡ç»„ä»¶
- `src/components/ui/table.tsx` - è¡¨æ ¼ç»„ä»¶
- `src/components/ui/button.tsx` - æŒ‰é’®ç»„ä»¶
- `src/components/ui/skeleton.tsx` - éª¨æ¶å±ç»„ä»¶

### ä¸Šä¸‹æ–‡

- `src/contexts/AuthContext.tsx` - è®¤è¯ä¸Šä¸‹æ–‡
- `src/contexts/LanguageContext.tsx` - è¯­è¨€ä¸Šä¸‹æ–‡

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. æ€§èƒ½ä¼˜åŒ–

- **å¹¶è¡ŒåŠ è½½**ï¼šä½¿ç”¨Promise.allåŒæ—¶åŠ è½½ä¸‰ä¸ªæ¨¡å—æ•°æ®
- **åˆ†é¡µåŠ è½½**ï¼šç”¨æˆ·åˆ—è¡¨åˆ†é¡µï¼Œé¿å…ä¸€æ¬¡åŠ è½½æ‰€æœ‰æ•°æ®
- **æ•°æ®ç¼“å­˜**ï¼šä½¿ç”¨ReactçŠ¶æ€ç¼“å­˜å·²åŠ è½½æ•°æ®

### 2. ç”¨æˆ·ä½“éªŒ

- **åŠ è½½åé¦ˆ**ï¼šä½¿ç”¨éª¨æ¶å±æ˜¾ç¤ºåŠ è½½çŠ¶æ€
- **é”™è¯¯å¤„ç†**ï¼šæ•è·å¹¶è®°å½•é”™è¯¯ï¼Œé¿å…é¡µé¢å´©æºƒ
- **ç©ºçŠ¶æ€**ï¼šæä¾›å‹å¥½çš„ç©ºæ•°æ®æç¤º

### 3. ä»£ç è´¨é‡

- **ç±»å‹å®‰å…¨**ï¼šä½¿ç”¨TypeScriptç±»å‹å®šä¹‰
- **ä»£ç å¤ç”¨**ï¼šæå–å…¬å…±å‡½æ•°ï¼ˆformatAmountã€formatDateç­‰ï¼‰
- **æ¸…æ™°å‘½å**ï¼šä½¿ç”¨æè¿°æ€§çš„å˜é‡å’Œå‡½æ•°å

### 4. å¯ç»´æŠ¤æ€§

- **æ¨¡å—åŒ–è®¾è®¡**ï¼šä¸‰ä¸ªç‹¬ç«‹æ¨¡å—ï¼Œæ˜“äºç»´æŠ¤å’Œæ‰©å±•
- **é…ç½®åŒ–å†…å®¹**ï¼šå¤šè¯­è¨€å†…å®¹é›†ä¸­ç®¡ç†
- **æ–‡æ¡£å®Œå–„**ï¼šè¯¦ç»†çš„ä»£ç æ³¨é‡Šå’Œæ–‡æ¡£

## ğŸ”„ æœªæ¥ä¼˜åŒ–æ–¹å‘

### åŠŸèƒ½å¢å¼º

1. **æ•°æ®å¯¼å‡º**
   - å¯¼å‡ºç”¨æˆ·åˆ—è¡¨ä¸ºCSV
   - å¯¼å‡ºæ¯æ—¥ç»Ÿè®¡æ•°æ®ä¸ºExcel
   - ç”ŸæˆPDFæŠ¥å‘Š

2. **æ•°æ®ç­›é€‰**
   - æŒ‰æ—¥æœŸèŒƒå›´ç­›é€‰
   - æŒ‰ç”¨æˆ·çŠ¶æ€ç­›é€‰
   - æŒ‰è®¢é˜…ç±»å‹ç­›é€‰

3. **æ•°æ®å¯è§†åŒ–**
   - æ·»åŠ å›¾è¡¨å±•ç¤ºè¶‹åŠ¿
   - ç”¨æˆ·å¢é•¿æ›²çº¿
   - æ”¶å…¥è¶‹åŠ¿å›¾

4. **å®æ—¶æ›´æ–°**
   - ä½¿ç”¨WebSocketå®æ—¶æ¨é€æ•°æ®
   - è‡ªåŠ¨åˆ·æ–°ç»Ÿè®¡æ•°æ®
   - å®æ—¶ç”¨æˆ·åœ¨çº¿çŠ¶æ€

### ç”¨æˆ·ä½“éªŒ

1. **æœç´¢åŠŸèƒ½**
   - æŒ‰é‚®ç®±æœç´¢ç”¨æˆ·
   - æŒ‰å§“åæœç´¢ç”¨æˆ·
   - é«˜çº§æœç´¢é€‰é¡¹

2. **æ‰¹é‡æ“ä½œ**
   - æ‰¹é‡å¯¼å‡ºç”¨æˆ·æ•°æ®
   - æ‰¹é‡å‘é€é€šçŸ¥
   - æ‰¹é‡ä¿®æ”¹ç”¨æˆ·çŠ¶æ€

3. **æ•°æ®è¯¦æƒ…**
   - ç‚¹å‡»ç”¨æˆ·æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯
   - æŸ¥çœ‹ç”¨æˆ·æµ‹è¯•å†å²
   - æŸ¥çœ‹ç”¨æˆ·è®¢å•è®°å½•

### æŠ€æœ¯ä¼˜åŒ–

1. **æ€§èƒ½æå‡**
   - å®ç°è™šæ‹Ÿæ»šåŠ¨
   - ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢
   - æ·»åŠ æ•°æ®ç¼“å­˜å±‚

2. **å®‰å…¨å¢å¼º**
   - æ·»åŠ æ“ä½œæ—¥å¿—
   - å®ç°æƒé™ç»†åˆ†
   - æ•°æ®è„±æ•å¤„ç†

## ğŸ“ æ³¨æ„äº‹é¡¹

### 1. æ•°æ®å‡†ç¡®æ€§

- æ¯æ—¥ç»Ÿè®¡æ•°æ®éœ€è¦å®šæ—¶ä»»åŠ¡æ›´æ–°
- ç¡®ä¿ç»Ÿè®¡é€»è¾‘ä¸å®é™…ä¸šåŠ¡ä¸€è‡´
- å®šæœŸæ ¡éªŒæ•°æ®å‡†ç¡®æ€§

### 2. æ€§èƒ½è€ƒè™‘

- å¤§é‡æ•°æ®æ—¶è€ƒè™‘åˆ†é¡µåŠ è½½
- é¿å…é¢‘ç¹åˆ·æ–°æ•´ä¸ªé¡µé¢
- ä½¿ç”¨ç´¢å¼•ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢

### 3. å®‰å…¨æ€§

- ä¸¥æ ¼çš„æƒé™æ£€æŸ¥
- é˜²æ­¢SQLæ³¨å…¥
- æ•æ„Ÿæ•°æ®åŠ å¯†å­˜å‚¨

### 4. å¯æ‰©å±•æ€§

- æ¨¡å—åŒ–è®¾è®¡ä¾¿äºæ·»åŠ æ–°åŠŸèƒ½
- é¢„ç•™æ‰©å±•æ¥å£
- è€ƒè™‘æœªæ¥æ•°æ®é‡å¢é•¿

## ğŸ‰ æ€»ç»“

ç®¡ç†å‘˜é¢æ¿ä¼˜åŒ–å®Œæˆï¼Œæä¾›äº†ï¼š

- **å…¨é¢çš„æ•°æ®ç»Ÿè®¡**ï¼šä¸‰å¤§æ ¸å¿ƒæ¨¡å—è¦†ç›–æ‰€æœ‰å…³é”®æŒ‡æ ‡
- **å‹å¥½çš„ç”¨æˆ·ç•Œé¢**ï¼šæ¸…æ™°çš„å¸ƒå±€å’Œæµç•…çš„äº¤äº’
- **å¼ºå¤§çš„æ•°æ®ç®¡ç†**ï¼šåˆ†é¡µã€ç­›é€‰ã€æ’åºåŠŸèƒ½
- **å®Œå–„çš„å¤šè¯­è¨€æ”¯æŒ**ï¼šä¸­è‹±æ–‡å®Œæ•´ç¿»è¯‘
- **ä¼˜ç§€çš„å“åº”å¼è®¾è®¡**ï¼šé€‚é…æ‰€æœ‰è®¾å¤‡
- **é«˜è´¨é‡çš„ä»£ç å®ç°**ï¼šç±»å‹å®‰å…¨ã€æ˜“äºç»´æŠ¤

é€šè¿‡è¿™æ¬¡ä¼˜åŒ–ï¼Œç®¡ç†å‘˜å¯ä»¥æ›´é«˜æ•ˆåœ°ç›‘æ§å¹³å°è¿è¥çŠ¶å†µï¼Œåšå‡ºæ•°æ®é©±åŠ¨çš„å†³ç­–ã€‚

---
æ–‡æ¡£åˆ›å»ºæ—¶é—´ï¼š2025-12-13  
æ–‡æ¡£ç‰ˆæœ¬ï¼š1.0  
æœ€åæ›´æ–°ï¼š2025-12-13
